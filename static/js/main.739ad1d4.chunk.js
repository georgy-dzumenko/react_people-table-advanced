(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{27:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg=="},28:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII="},29:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC"},31:function(e,a,t){e.exports=t(51)},50:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),c=t.n(r),s=t(3),o=t(1),m=function(){return l.a.createElement("p",{className:"title is-3 is-spaced"},"Home")},u=t(14),i=t(4),p=t(26),d=function(e){var a=e.person,t=e.isParent,n=void 0!==t&&t,r=Object(o.h)();return l.a.createElement(p.a,{smooth:!0,to:{pathname:"/people/:".concat(a.slug).concat(r.pathname.includes("/new")?"/new":""),hash:n?"#".concat(a.slug):"",search:r.search}},a.name||"-")};d.defaultProps={isParent:!1};var h=function(e){var a=e.person,t=e.isSelected;return l.a.createElement("tr",{className:t?"is-selected ".concat("f"===a.sex?"has-background-danger-dark":"has-background-link-dark"):"",id:a.slug},l.a.createElement("td",null,l.a.createElement(d,{person:a})),l.a.createElement("td",null,a.sex),l.a.createElement("td",null,a.born),l.a.createElement("td",null,a.died),l.a.createElement("td",null,null!==a.mother?l.a.createElement(d,{person:a.mother,isParent:!0}):l.a.createElement("p",{className:"has-text-weight-bold"},""===a.motherName?"-":a.motherName)),l.a.createElement("td",null,null!==a.father?l.a.createElement(d,{person:a.father,isParent:!0}):l.a.createElement("p",{className:"has-text-weight-bold"},""===a.fatherName?"-":a.fatherName)))},E=t(27),b=t.n(E),f=t(28),g=t.n(f),A=t(29),v=t.n(A),N=function(e){var a,t=e.title,n=Object(o.g)(),r=Object(o.h)(),c=new URLSearchParams(r.search),s=c.get("sortBy"),m=c.get("sortOrder")||1,u="asc"===m?l.a.createElement("img",{src:b.a,alt:""}):l.a.createElement("img",{src:g.a,alt:""});return l.a.createElement("th",{className:"is-clickable is-unselectable",onClick:(a=t,function(){s===a&&"asc"===m?c.set("sortOrder","desc"):c.set("sortOrder","asc"),a?c.set("sortBy",a):c.delete("sortBy"),n.push({search:c.toString()})})},t," ",s===t?u:l.a.createElement("img",{src:v.a,alt:"*"}))},O=function(e){var a=e.people,t=e.selectedPersonSlug;return l.a.createElement("table",{style:{tableRowActiveColor:"red",borderCollapse:"collapse"},className:"table is-hoverable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement(N,{title:"name"}),l.a.createElement(N,{title:"sex"}),l.a.createElement(N,{title:"born"}),l.a.createElement(N,{title:"died"}),l.a.createElement("th",null,"mother's name"),l.a.createElement("th",null,"father's name"))),l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement(h,{person:e,isSelected:t===":".concat(e.slug)})}))))},j=t(30),x=t.n(j),S=function(){var e=Object(o.g)(),a=Object(o.h)(),t=new URLSearchParams(a.search),r=Object(n.useState)(t.get("query")||""),c=Object(i.a)(r,2),s=c[0],m=c[1],u=Object(n.useCallback)(x()((function(a){a?t.set("query",a):t.delete("query"),e.push({search:t.toString()})}),500),[]);return l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control has-icons-left"},l.a.createElement("input",{value:s,onChange:function(e){m(e.target.value),u(e.target.value)},className:"input",type:"text",placeholder:"Enter name of person you want to find"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-search"}))))},C=t(13),y=t(8),P=function(e){var a=e.applyName,t=e.placeholder,r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1];return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name",l.a.createElement("div",{className:"control"},l.a.createElement("input",{value:s,onChange:function(e){-1===e.target.value.search(/[0-9]/)&&(o(e.target.value),a(e.target.value))},className:"input",type:"text",placeholder:t,required:!0}))))},w=function(e){var a=e.people,t=e.setParent,n=e.disabled,r=e.title;return l.a.createElement("div",{className:"select"},l.a.createElement("select",{onChange:function(e){t(e.target.value)},disabled:n},l.a.createElement("option",{defaultValue:!0,value:""},r),a?a.map((function(e){return l.a.createElement("option",{value:e.name},e.name)})):""))};w.defaultProps={disabled:!1};var B=function(e){var a=e.applySex,t=Object(n.useState)(""),r=Object(i.a)(t,2),c=r[0],s=r[1];return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"}," ","Sex",l.a.createElement("div",{className:"control",value:c,onChange:function(e){a(e.target.value),s(e.target.value)}},l.a.createElement("label",{className:"radio"},l.a.createElement("input",{value:"m",type:"radio",name:"answer",required:!0}),"male"),l.a.createElement("label",{className:"radio"},l.a.createElement("input",{value:"f",type:"radio",name:"answer",required:!0}),"female"))))},Q=function(e){var a=e.applyDate,t=e.placeholder,r=e.label,c=e.disabled,s=e.err,o=e.errText,m=e.min,u=Object(n.useState)(""),p=Object(i.a)(u,2),d=p[0],h=p[1];return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},r),l.a.createElement("div",{className:"control"},l.a.createElement("input",{min:m,max:"2021",disabled:c,value:d,onChange:function(e){h(e.target.value),a(+e.target.value)},className:"input ".concat(s?"is-danger":""),type:"number",placeholder:t,required:!0}),l.a.createElement("p",{className:"help is-danger"},s?o:"")))};Q.defaultProps={disabled:!1,min:1400,errText:"",err:!1};var k=function(e){var a=e.addPerson,t=e.people,r=Object(o.i)("/people/:personSlug?/new"),c=Object(o.g)(),s=Object(o.h)(),m=Object(n.useState)({name:"",sex:"",born:0,died:0,fatherName:"",motherName:"",mother:null,father:null}),u=Object(i.a)(m,2),p=u[0],d=u[1],h=p.name,E=p.sex,b=p.born,f={deathErr:p.died-b>=150},g=t?t.sort((function(e,a){return e.name.localeCompare(a.name)})).filter((function(e){return"f"===e.sex&&e.died>b&&e.born<b})):[],A=t?t.sort((function(e,a){return e.name.localeCompare(a.name)})).filter((function(e){return"m"===e.sex&&e.died>b&&e.born<b})):[],v=function(e){return function(a){d(Object(y.a)(Object(y.a)({},p),{},Object(C.a)({},e,a)))}},N=function(){return"/people".concat(r.params.personSlug?"/".concat(r.params.personSlug):"")};return l.a.createElement("form",{className:"box column is-4",onSubmit:function(e){var t,n,l;e.preventDefault(),l=f,Object.values(l).every((function(e){return!e}))&&(a(Object(y.a)(Object(y.a)({},p),{},{slug:(t=h,n=b,"".concat(t.toLowerCase().split(" ").join("-"),"-").concat(n.toString()))})),c.push({pathname:N(),search:s.search}))}},l.a.createElement("button",{type:"button",className:"delete is-pulled-right",onClick:function(){c.push({pathname:N(),search:s.search})}}),l.a.createElement("div",{className:"block"},l.a.createElement(P,{applyName:v("name"),placeholder:"m"===E||""===E?"John Smith":"Jane Smith"}),l.a.createElement(B,{applySex:v("sex")}),l.a.createElement(Q,{placeholder:"1964",label:"birth date",applyDate:v("born")}),l.a.createElement(Q,{placeholder:"1994",label:"death date",applyDate:v("died"),disabled:!b,err:f.deathErr,errText:"people can't live so long",min:b}),l.a.createElement("div",{className:"block"},l.a.createElement(w,{people:g,setParent:function(e){return d(Object(y.a)(Object(y.a)({},p),{},{motherName:e,mother:g.find((function(a){return a.name===e}))||null}))},disabled:!b||0===g.length,title:"select mother"})),l.a.createElement("div",{className:"block"},l.a.createElement(w,{people:A,setParent:function(e){return d(Object(y.a)(Object(y.a)({},p),{},{fatherName:e,father:A.find((function(a){return a.name===e}))||null}))},disabled:!b||0===A.length,title:"select father"}))),l.a.createElement("button",{type:"submit",className:"button is-success"},"Add person"))},G=function(e){var a=e.match,t=Object(n.useState)([]),r=Object(i.a)(t,2),c=r[0],m=r[1],p=Object(n.useState)(c),d=Object(i.a)(p,2),h=d[0],E=d[1],b=Object(o.h)(),f=new URLSearchParams(b.search),g=f.get("query")||"",A=f.get("sortBy"),v="asc"===f.get("sortOrder")?1:-1,N=Object(n.useCallback)((function(){return"name"===A||"sex"===A?function(e,a){return v*e[A].localeCompare(a[A])}:"born"===A||"died"===A?function(e,a){return v*(+e[A]-+a[A])}:function(){return 0}}),[v,A]);return Object(n.useEffect)((function(){return E(Object(u.a)(c).sort(N()).filter((function(e){var a=g.toLowerCase();return e.name.toLowerCase().includes(a)||"".concat(e.motherName).toLowerCase().includes(a)||"".concat(e.fatherName).toLowerCase().includes(a)})))}),[A,v,c,g,N]),Object(n.useEffect)((function(){(function(){return fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(a){var t=a.name,n=a.sex,l=a.born,r=a.died,c=a.fatherName,s=a.motherName,o=a.slug;return{name:t,sex:n,born:l,died:r,motherName:null===s?"":s,fatherName:null===c?"":c,mother:e.find((function(e){return e.name===s}))||null,father:e.find((function(e){return e.name===c}))||null,slug:o}}))}))})().then((function(e){m(e),E(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"title is-3 is-spaced"},"People"),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/people/:personSlug?/new"},l.a.createElement(k,{addPerson:function(e){m([e].concat(Object(u.a)(c)))},people:Object(u.a)(c)})),l.a.createElement(o.b,{path:"/people"},l.a.createElement(s.b,{to:{pathname:"/people/".concat(a.params.personSlug?"".concat(a.params.personSlug,"/"):"","new"),search:b.search},className:"button is-success"},l.a.createElement("i",{className:"fas fa-user-plus"})))),l.a.createElement(S,null),c?l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{people:h,selectedPersonSlug:a.params.personSlug})):"")},q=function(){var e=Object(o.h)().search;return l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar tabs"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.c,{to:"/",exact:!0,className:"navbar-item is-tab",activeClassName:"is-active"},"Home")),l.a.createElement("li",null,l.a.createElement(s.c,{className:"navbar-item is-tab",activeClassName:"is-active",to:{pathname:"/people",search:e}},"People")))))},D=(t(50),function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"title is-3 is-spaced"},"Page not found :("))}),U=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,null,l.a.createElement(q,null),l.a.createElement("div",{className:"App"},l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,component:m}),l.a.createElement(o.b,{path:"/people/:personSlug?",component:G}),l.a.createElement(o.a,{path:"/home",to:"/"}),l.a.createElement(D,null)))))};c.a.render(l.a.createElement(U,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.739ad1d4.chunk.js.map