{"version":3,"sources":["images/sort_asc.png","images/sort_desc.png","images/sort_both.png","components/HomePage/HomePage.jsx","components/PersonName/PersonName.jsx","components/PersonRow/PersonRow.jsx","components/PeopleTableHeader/PeopleTableHeader.jsx","components/PeopleTable/PeopleTable.jsx","components/PersonSearchBar/PersonSearchBar.jsx","components/NameInput/NameInput.jsx","components/ParentSelector/ParentSelector.jsx","components/SexSelector/SexSelector.jsx","components/DateInput/DateInput.jsx","components/NewPerson/NewPerson.jsx","components/PeoplePage/PeoplePage.jsx","components/api.js","components/Header/Header.jsx","components/NotFoundPage/NotFoundPage.jsx","App.jsx","index.jsx"],"names":["module","exports","HomePage","className","PersonName","person","isParent","location","useLocation","smooth","to","pathname","slug","includes","hash","search","name","defaultProps","PersonRow","isSelected","sex","id","born","died","mother","motherName","father","fatherName","PeopleTableHeader","newSortBy","title","history","useHistory","searchParams","URLSearchParams","sortBy","get","order","sortIcon","src","sortAsc","alt","sortDesc","onClick","set","delete","push","toString","sortBoth","PeopleTable","people","selectedPersonSlug","style","tableRowActiveColor","borderCollapse","map","PersonSearchBar","useState","query","setQuery","applyQuery","useCallback","debounce","newQuery","value","onChange","event","target","type","placeholder","NameInput","applyName","setName","required","ParentSelector","setParent","disabled","defaultValue","SexSelector","applySex","setSex","DateInput","applyDate","label","err","errText","min","date","setDate","max","NewPerson","addPerson","match","useRouteMatch","personData","setPersonData","validationErrs","deathErr","posibleMothers","sort","a","b","localeCompare","filter","posibleFathers","setPersonDataProp","prop","getPeoplePathName","params","personSlug","onSubmit","personName","personBorn","arr","preventDefault","Object","values","every","toLowerCase","split","join","find","length","PeoplePage","setPeople","visiblePeople","setVisPeople","appliedQuery","getSortCallback","useEffect","lowerQuery","fetch","then","response","json","getPeople","path","Header","exact","activeClassName","NotFoundPage","App","component","ReactDOM","render","document","getElementById"],"mappings":"gHAAAA,EAAOC,QAAU,kP,iBCAjBD,EAAOC,QAAU,8O,iBCAjBD,EAAOC,QAAU,sS,mJCEJC,EAAW,kBACtB,uBAAGC,UAAU,wBAAb,S,uBCEWC,EAAa,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,OAA+B,IAAvBC,gBAAuB,SACpDC,EAAWC,cAEjB,OACE,kBAAC,IAAD,CACEC,QAAM,EACNC,GAAI,CACFC,SAAS,YAAD,OACNN,EAAOO,MADD,OAGNL,EAASI,SAASE,SAAS,QACvB,OAAS,IAEfC,KAAMR,EAAQ,WAAOD,EAAOO,MAAS,GACrCG,OAAQR,EAASQ,SAGlBV,EAAOW,MAAQ,MAUtBZ,EAAWa,aAAe,CACxBX,UAAU,GC7BL,IAAMY,EAAY,SAAC,GAAD,IAAGb,EAAH,EAAGA,OAAQc,EAAX,EAAWA,WAAX,OACvB,wBACEhB,UAAWgB,EAAU,sBAEF,MAAfd,EAAOe,IACH,6BACA,4BACD,GAEPC,GAAIhB,EAAOO,MAEX,4BACE,kBAAC,EAAD,CAAYP,OAAQA,KAEtB,4BACGA,EAAOe,KAEV,4BACGf,EAAOiB,MAEV,4BACGjB,EAAOkB,MAEV,4BACqB,OAAlBlB,EAAOmB,OACJ,kBAAC,EAAD,CAAYnB,OAAQA,EAAOmB,OAAQlB,UAAQ,IAE3C,uBAAGH,UAAU,wBAES,KAAtBE,EAAOoB,WACH,IACApB,EAAOoB,aAMjB,4BACqB,OAAlBpB,EAAOqB,OACJ,kBAAC,EAAD,CAAYrB,OAAQA,EAAOqB,OAAQpB,UAAQ,IAE3C,uBAAGH,UAAU,wBAES,KAAtBE,EAAOsB,WACH,IACAtB,EAAOsB,e,mDC1CRC,EAAoB,SAAC,GAAe,IAU1BC,EAVaC,EAAY,EAAZA,MAC5BC,EAAUC,cACVzB,EAAWC,cACXyB,EAAe,IAAIC,gBAAgB3B,EAASQ,QAC5CoB,EAASF,EAAaG,IAAI,UAC1BC,EAAQJ,EAAaG,IAAI,cAAgB,EACzCE,EAAqB,QAAVD,EACb,yBAAKE,IAAKC,IAASC,IAAI,KACvB,yBAAKF,IAAKG,IAAUD,IAAI,KAsB5B,OACE,wBACEtC,UAAU,+BACVwC,SAvBiBd,EAuBKC,EAvBQ,WAC5BK,IAAWN,GACC,QAAVQ,EACFJ,EAAaW,IAAI,YAAa,QAKhCX,EAAaW,IAAI,YAAa,OAG5Bf,EACFI,EAAaW,IAAI,SAAUf,GAE3BI,EAAaY,OAAO,UAGtBd,EAAQe,KAAK,CAAE/B,OAAQkB,EAAac,gBAQjCjB,EACA,IACAK,IAAWL,EACRQ,EACA,yBAAKC,IAAKS,IAAUP,IAAI,QCzCrBQ,EAAc,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,mBAAX,OACzB,2BACEC,MAAO,CACLC,oBAAqB,MACrBC,eAAgB,YAElBnD,UAAU,sBAEV,+BACE,4BACE,kBAAC,EAAD,CACE2B,MAAM,SAER,kBAAC,EAAD,CACEA,MAAM,QAER,kBAAC,EAAD,CACEA,MAAM,SAER,kBAAC,EAAD,CACEA,MAAM,SAER,6CACA,+CAIJ,+BACGoB,EAAOK,KAAI,SAAAlD,GAAM,OAChB,kBAAC,EAAD,CACEA,OAAQA,EACRc,WAAYgC,IAAkB,WAAS9C,EAAOO,c,iBChC3C4C,EAAkB,WAC7B,IAAMzB,EAAUC,cACVzB,EAAWC,cACXyB,EAAe,IAAIC,gBAAgB3B,EAASQ,QAClD,EAA0B0C,mBAASxB,EAAaG,IAAI,UAAY,IAAhE,mBAAOsB,EAAP,KAAcC,EAAd,KAEMC,EAAaC,sBAAYC,KAAS,SAACC,GACnCA,EACF9B,EAAaW,IAAI,QAASmB,GAE1B9B,EAAaY,OAAO,SAGtBd,EAAQe,KAAK,CAAE/B,OAAQkB,EAAac,eACnC,KAAM,IAET,OACE,yBAAK5C,UAAU,SACb,yBAAKA,UAAU,0BACb,2BACE6D,MAAON,EACPO,SAAU,SAACC,GACTP,EAASO,EAAMC,OAAOH,OACtBJ,EAAWM,EAAMC,OAAOH,QAE1B7D,UAAU,QACViE,KAAK,OACLC,YAAY,0CAEd,0BAAMlE,UAAU,yBACd,uBAAGA,UAAU,sB,eC/BVmE,EAAY,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,UAAWF,EAAkB,EAAlBA,YACrC,EAAwBZ,mBAAS,IAAjC,mBAAOzC,EAAP,KAAawD,EAAb,KAEA,OACE,yBAAKrE,UAAU,SACb,2BAAOA,UAAU,SAAjB,OAEE,yBAAKA,UAAU,WACb,2BACE6D,MAAOhD,EACPiD,SAAU,SAACC,IACmC,IAAxCA,EAAMC,OAAOH,MAAMjD,OAAO,WAC5ByD,EAAQN,EAAMC,OAAOH,OACrBO,EAAUL,EAAMC,OAAOH,SAG3B7D,UAAU,QACViE,KAAK,OACLC,YAAaA,EACbI,UAAQ,QCnBPC,EAAiB,SAAC,GAAD,IAC5BxB,EAD4B,EAC5BA,OACAyB,EAF4B,EAE5BA,UACAC,EAH4B,EAG5BA,SACA9C,EAJ4B,EAI5BA,MAJ4B,OAM5B,yBAAK3B,UAAU,UACb,4BACE8D,SAAU,SAACC,GACTS,EAAUT,EAAMC,OAAOH,QAEzBY,SAAUA,GAEV,4BACEC,cAAY,EACZb,MAAM,IAELlC,GAEFoB,EAASA,EAAOK,KAAI,SAAAlD,GAAM,OACzB,4BAAQ2D,MAAO3D,EAAOW,MACnBX,EAAOW,SAEP,MAYX0D,EAAezD,aAAe,CAC5B2D,UAAU,GCpCL,IAAME,EAAc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC5B,EAAsBtB,mBAAS,IAA/B,mBAAOrC,EAAP,KAAY4D,EAAZ,KAEA,OACE,yBAAK7E,UAAU,SACb,2BAAOA,UAAU,SACd,IADH,MAGE,yBACEA,UAAU,UACV6D,MAAO5C,EACP6C,SAAU,SAACC,GACTa,EAASb,EAAMC,OAAOH,OACtBgB,EAAOd,EAAMC,OAAOH,SAGtB,2BAAO7D,UAAU,SACf,2BACE6D,MAAM,IACNI,KAAK,QACLpD,KAAK,SACLyD,UAAQ,IALZ,QASA,2BAAOtE,UAAU,SACf,2BACE6D,MAAM,IACNI,KAAK,QACLpD,KAAK,SACLyD,UAAQ,IALZ,cCzBGQ,EAAY,SAAC,GAQnB,IAPLC,EAOI,EAPJA,UACAb,EAMI,EANJA,YACAc,EAKI,EALJA,MACAP,EAII,EAJJA,SACAQ,EAGI,EAHJA,IACAC,EAEI,EAFJA,QACAC,EACI,EADJA,IAEA,EAAwB7B,mBAAS,IAAjC,mBAAO8B,EAAP,KAAaC,EAAb,KAEA,OACE,yBAAKrF,UAAU,SACb,2BAAOA,UAAU,SAASgF,GAC1B,yBAAKhF,UAAU,WACb,2BACEmF,IAAKA,EACLG,IAAI,OACJb,SAAUA,EACVZ,MAAOuB,EACPtB,SAAU,SAACC,GACTsB,EAAQtB,EAAMC,OAAOH,OACrBkB,GAAWhB,EAAMC,OAAOH,QAE1B7D,UAAS,gBAAWiF,EAAM,YAAc,IACxChB,KAAK,SACLC,YAAaA,EACbI,UAAQ,IAEV,uBAAGtE,UAAU,kBAAkBiF,EAAMC,EAAU,OAgBvDJ,EAAUhE,aAAe,CACvB2D,UAAU,EACVU,IAAK,KACLD,QAAS,GACTD,KAAK,GC5CA,IAAMM,EAAY,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,UAAWzC,EAAa,EAAbA,OAC/B0C,EAAQC,YAAc,4BACtB9D,EAAUC,cACVzB,EAAWC,cAEjB,EAAoCiD,mBAAS,CAC3CzC,KAAM,GACNI,IAAK,GACLE,KAAM,EACNC,KAAM,EACNI,WAAY,GACZF,WAAY,GACZD,OAAQ,KACRE,OAAQ,OARV,mBAAOoE,EAAP,KAAmBC,EAAnB,KAYE/E,EAIE8E,EAJF9E,KACAI,EAGE0E,EAHF1E,IACAE,EAEEwE,EAFFxE,KAII0E,EAAiB,CACrBC,SAHEH,EADFvE,KAIiBD,GAAQ,KAGrB4E,EAAiBhD,EAASA,EAAOiD,MACrC,SAACC,EAAGC,GAAJ,OAAUD,EAAEpF,KAAKsF,cAAcD,EAAErF,SACjCuF,QACA,SAAAlG,GAAM,MAAmB,MAAfA,EAAOe,KAAef,EAAOkB,KAAOD,GAAQjB,EAAOiB,KAAOA,KAClE,GAEEkF,EAAiBtD,EAASA,EAAOiD,MACrC,SAACC,EAAGC,GAAJ,OAAUD,EAAEpF,KAAKsF,cAAcD,EAAErF,SACjCuF,QACA,SAAAlG,GAAM,MAAmB,MAAfA,EAAOe,KAAef,EAAOkB,KAAOD,GAAQjB,EAAOiB,KAAOA,KAClE,GAEEmF,EAAoB,SAAAC,GAAI,OAAI,SAAC1C,GACjC+B,EAAc,2BACTD,GADQ,kBACKY,EAAO1C,OAcrB2C,EAAoB,kCAAgBf,EAAMgB,OAAOC,WAAb,WAClCjB,EAAMgB,OAAOC,YACjB,KAGJ,OACE,0BACE1G,UAAU,kBACV2G,SAAU,SAAC5C,GAdO,IAAC6C,EAAYC,EAJPC,EAmBtB/C,EAAMgD,iBAnBgBD,EAqBCjB,EArBOmB,OAAOC,OAAOH,GAAKI,OACnD,SAACjB,GAAD,OAAQA,OAqBJT,EAAU,2BACLG,GADI,IAEPlF,MApBamG,EAoBO/F,EApBKgG,EAoBC1F,EApBd,UAClByF,EAAWO,cAAcC,MAAM,KAAKC,KAAK,KADvB,YAGlBR,EAAWjE,gBAmBPhB,EAAQe,KAAK,CACXnC,SAAUgG,IACV5F,OAAQR,EAASQ,YAKvB,4BACEqD,KAAK,SACLjE,UAAU,yBACVwC,QAAS,WACPZ,EAAQe,KAAK,CACXnC,SAAUgG,IACV5F,OAAQR,EAASQ,YAKvB,yBAAKZ,UAAU,SAEb,kBAAC,EAAD,CACEoE,UAAWkC,EAAkB,QAC7BpC,YAAqB,MAARjD,GAAuB,KAARA,EACxB,aACA,eAIN,kBAAC,EAAD,CACE2D,SAAU0B,EAAkB,SAG9B,kBAAC,EAAD,CACEpC,YAAY,OACZc,MAAM,aACND,UAAWuB,EAAkB,UAG/B,kBAAC,EAAD,CACEpC,YAAY,OACZc,MAAM,aACND,UAAWuB,EAAkB,QAC7B7B,UAAWtD,EACX8D,IAAKY,EAAeC,SACpBZ,QAAS,4BACTC,IAAKhE,IAGP,yBAAKnB,UAAU,SACb,kBAAC,EAAD,CACE+C,OAAQgD,EACRvB,UAAW,SAAAX,GAAK,OAAI+B,EAAc,2BAC7BD,GAD4B,IAE/BrE,WAAYuC,EACZxC,OAAQ0E,EAAeuB,MAAK,SAAApH,GAAM,OAAIA,EAAOW,OAASgD,MAAU,SAElEY,UAAWtD,GAAkC,IAA1B4E,EAAewB,OAClC5F,MAAM,mBAIV,yBAAK3B,UAAU,SACb,kBAAC,EAAD,CACE+C,OAAQsD,EACR7B,UAAW,SAAAX,GAAK,OAAI+B,EAAc,2BAC7BD,GAD4B,IAE/BnE,WAAYqC,EACZtC,OAAQ8E,EAAeiB,MAAK,SAAApH,GAAM,OAAIA,EAAOW,OAASgD,MAAU,SAElEY,UAAWtD,GAAkC,IAA1BkF,EAAekB,OAClC5F,MAAM,oBAKZ,4BACEsC,KAAK,SACLjE,UAAU,qBAFZ,gBC7IOwH,EAAa,SAAC,GAAe,IAAb/B,EAAY,EAAZA,MAC3B,EAA4BnC,mBAAS,IAArC,mBAAOP,EAAP,KAAe0E,EAAf,KACA,EAAsCnE,mBAASP,GAA/C,mBAAO2E,EAAP,KAAsBC,EAAtB,KACMvH,EAAWC,cACXyB,EAAe,IAAIC,gBAAgB3B,EAASQ,QAC5CgH,EAAe9F,EAAaG,IAAI,UAAY,GAC5CD,EAASF,EAAaG,IAAI,UAC1BC,EAA0C,QAAlCJ,EAAaG,IAAI,aAAyB,GAAK,EAMvD4F,EAAkBnE,uBAAY,WAClC,MAAc,SAAX1B,GAAgC,QAAXA,EACf,SAACiE,EAAGC,GAAJ,OAAUhE,EAAQ+D,EAAEjE,GAAQmE,cAAcD,EAAElE,KAGtC,SAAXA,GAAgC,SAAXA,EAChB,SAACiE,EAAGC,GAAJ,OAAUhE,IAAU+D,EAAEjE,IAAWkE,EAAElE,KAGrC,kBAAM,KACZ,CAACE,EAAOF,IAsBX,OAnBA8F,qBAAU,kBAAMH,EAAa,YAAI5E,GAAQiD,KACvC6B,KACAzB,QAAO,SAAClG,GACR,IAAM6H,EAAaH,EAAaT,cAEhC,OACEjH,EAAOW,KAAKsG,cAAczG,SAASqH,IAC9B,UAAG7H,EAAOoB,YAAa6F,cAAczG,SAASqH,IAC9C,UAAG7H,EAAOsB,YAAa2F,cAAczG,SAASqH,SAElD,CAAC/F,EAAQE,EAAOa,EAAQ6E,EAAcC,IAE3CC,qBAAU,YCnDa,kBAAgBE,MACvC,qEAECC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GAAQ,OAAIA,EAAS9E,KAAI,gBAC7BvC,EAD6B,EAC7BA,KACAI,EAF6B,EAE7BA,IACAE,EAH6B,EAG7BA,KACAC,EAJ6B,EAI7BA,KACAI,EAL6B,EAK7BA,WACAF,EAN6B,EAM7BA,WACAb,EAP6B,EAO7BA,KAP6B,MAQxB,CACLI,OACAI,MACAE,OACAC,OACAE,WAA2B,OAAfA,EAAsB,GAAKA,EACvCE,WAA2B,OAAfA,EAAsB,GAAKA,EACvCH,OAAQ6G,EAASZ,MAAK,SAAApH,GAAM,OAAIA,EAAOW,OAASS,MAAe,KAC/DC,OAAQ2G,EAASZ,MAAK,SAAApH,GAAM,OAAIA,EAAOW,OAASW,MAAe,KAC/Df,eD+BA2H,GAAYH,MAAK,SAACC,GAChBT,EAAUS,GACVP,EAAaO,QAEd,IAGD,oCACE,uBAAGlI,UAAU,wBAAb,UAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEqI,KAAK,4BAEL,kBAAC,EAAD,CAAW7C,UA5CD,SAACtF,GACjBuH,EAAU,CAACvH,GAAF,mBAAa6C,MA2CiBA,OAAM,YAAMA,MAE/C,kBAAC,IAAD,CACEsF,KAAK,WAEL,kBAAC,IAAD,CACE9H,GAAI,CACFC,SAAS,WAAD,OACNiF,EAAMgB,OAAOC,WAAb,UACOjB,EAAMgB,OAAOC,WADpB,KACoC,GAF9B,OAIR9F,OAAQR,EAASQ,QAEnBZ,UAAU,qBAEV,uBAAGA,UAAU,wBAKnB,kBAAC,EAAD,MAEE+C,EAGE,oCACE,kBAAC,EAAD,CACEA,OAAQ2E,EACR1E,mBAAoByC,EAAMgB,OAAOC,cALrC,KEtFG4B,EAAS,WACpB,IAAQ1H,EAAWP,cAAXO,OAER,OACE,gCACE,yBAAKZ,UAAU,eACb,4BACE,4BACE,kBAAC,IAAD,CACEO,GAAG,IACHgI,OAAK,EACLvI,UAAU,qBACVwI,gBAAgB,aAJlB,SASF,4BACE,kBAAC,IAAD,CACExI,UAAU,qBACVwI,gBAAgB,YAChBjI,GAAI,CACFC,SAAU,UACVI,WALJ,eCnBC6H,G,MAAe,kBAC1B,oCACE,uBAAGzI,UAAU,wBAAb,wBCuCW0I,EA7BH,kBACV,oCACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MAEA,yBAAK1I,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEqI,KAAK,IACLE,OAAK,EACLI,UAAW5I,IAEb,kBAAC,IAAD,CACEsI,KAAK,uBACLM,UAAWnB,IAGb,kBAAC,IAAD,CACEa,KAAK,QACL9H,GAAG,MAGL,kBAAC,EAAD,WC/BVqI,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.739ad1d4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC\"","import React from 'react';\n\nexport const HomePage = () => (\n  <p className=\"title is-3 is-spaced\">Home</p>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { useLocation } from 'react-router-dom';\n\nexport const PersonName = ({ person, isParent = false }) => {\n  const location = useLocation();\n\n  return (\n    <Link\n      smooth\n      to={{\n        pathname: `/people/:${\n          person.slug\n        }${\n          location.pathname.includes('/new')\n            ? '/new' : ''\n        }`,\n        hash: isParent ? `#${person.slug}` : '',\n        search: location.search,\n      }}\n    >\n      {person.name || '-'}\n    </Link>\n  );\n};\n\nPersonName.propTypes = {\n  person: PropTypes.shape().isRequired,\n  isParent: PropTypes.bool,\n};\n\nPersonName.defaultProps = {\n  isParent: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PersonName } from '../PersonName';\n\nexport const PersonRow = ({ person, isSelected }) => (\n  <tr\n    className={isSelected\n      ? `is-selected ${\n        person.sex === 'f'\n          ? 'has-background-danger-dark'\n          : 'has-background-link-dark'\n      }` : ''\n    }\n    id={person.slug}\n  >\n    <td>\n      <PersonName person={person} />\n    </td>\n    <td>\n      {person.sex}\n    </td>\n    <td>\n      {person.born}\n    </td>\n    <td>\n      {person.died}\n    </td>\n    <td>\n      {person.mother !== null\n        ? <PersonName person={person.mother} isParent />\n        : (\n          <p className=\"has-text-weight-bold\">\n            {\n          person.motherName === ''\n            ? '-'\n            : person.motherName\n        }\n          </p>\n        )\n      }\n    </td>\n    <td>\n      {person.father !== null\n        ? <PersonName person={person.father} isParent />\n        : (\n          <p className=\"has-text-weight-bold\">\n            {\n          person.fatherName === ''\n            ? '-'\n            : person.fatherName\n        }\n          </p>\n        )\n      }\n    </td>\n  </tr>\n);\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    motherName: PropTypes.string.isRequired,\n    fatherName: PropTypes.string.isRequired,\n    mother: PropTypes.shape(),\n    father: PropTypes.shape(),\n    slug: PropTypes.string.isRequired,\n  }).isRequired,\n  isSelected: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport sortAsc from '../../images/sort_asc.png';\nimport sortDesc from '../../images/sort_desc.png';\nimport sortBoth from '../../images/sort_both.png';\n\nexport const PeopleTableHeader = ({ title }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy');\n  const order = searchParams.get('sortOrder') || 1;\n  const sortIcon = order === 'asc'\n    ? <img src={sortAsc} alt=\"\" />\n    : <img src={sortDesc} alt=\"\" />;\n\n  const selectSortBy = newSortBy => () => {\n    if (sortBy === newSortBy) {\n      if (order === 'asc') {\n        searchParams.set('sortOrder', 'desc');\n      } else {\n        searchParams.set('sortOrder', 'asc');\n      }\n    } else {\n      searchParams.set('sortOrder', 'asc');\n    }\n\n    if (newSortBy) {\n      searchParams.set('sortBy', newSortBy);\n    } else {\n      searchParams.delete('sortBy');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <th\n      className=\"is-clickable is-unselectable\"\n      onClick={selectSortBy(title)}\n    >\n      {title}\n      {' '}\n      {sortBy === title\n        ? sortIcon\n        : <img src={sortBoth} alt=\"*\" />}\n    </th>\n  );\n};\n\nPeopleTableHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PersonRow } from '../PersonRow';\nimport { PeopleTableHeader } from '../PeopleTableHeader';\n\nexport const PeopleTable = ({ people, selectedPersonSlug }) => (\n  <table\n    style={{\n      tableRowActiveColor: 'red',\n      borderCollapse: 'collapse',\n    }}\n    className=\"table is-hoverable\"\n  >\n    <thead>\n      <tr>\n        <PeopleTableHeader\n          title=\"name\"\n        />\n        <PeopleTableHeader\n          title=\"sex\"\n        />\n        <PeopleTableHeader\n          title=\"born\"\n        />\n        <PeopleTableHeader\n          title=\"died\"\n        />\n        <th>mother&#39;s name</th>\n        <th>father&#39;s name</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      {people.map(person => (\n        <PersonRow\n          person={person}\n          isSelected={selectedPersonSlug === `:${person.slug}`}\n        />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n  selectedPersonSlug: PropTypes.string.isRequired,\n};\n","import React, { useState, useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\n\nexport const PersonSearchBar = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n\n  const applyQuery = useCallback(debounce((newQuery) => {\n    if (newQuery) {\n      searchParams.set('query', newQuery);\n    } else {\n      searchParams.delete('query');\n    }\n\n    history.push({ search: searchParams.toString() });\n  }, 500), []);\n\n  return (\n    <div className=\"field\">\n      <div className=\"control has-icons-left\">\n        <input\n          value={query}\n          onChange={(event) => {\n            setQuery(event.target.value);\n            applyQuery(event.target.value);\n          }}\n          className=\"input\"\n          type=\"text\"\n          placeholder=\"Enter name of person you want to find\"\n        />\n        <span className=\"icon is-small is-left\">\n          <i className=\"fas fa-search\" />\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const NameInput = ({ applyName, placeholder }) => {\n  const [name, setName] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label className=\"label\">\n        Name\n        <div className=\"control\">\n          <input\n            value={name}\n            onChange={(event) => {\n              if (event.target.value.search(/[0-9]/) === -1) {\n                setName(event.target.value);\n                applyName(event.target.value);\n              }\n            }}\n            className=\"input\"\n            type=\"text\"\n            placeholder={placeholder}\n            required\n          />\n        </div>\n      </label>\n    </div>\n  );\n};\n\nNameInput.propTypes = {\n  applyName: PropTypes.func.isRequired,\n  placeholder: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, bool, func, shape, string } from 'prop-types';\n\nexport const ParentSelector = ({\n  people,\n  setParent,\n  disabled,\n  title,\n}) => (\n  <div className=\"select\">\n    <select\n      onChange={(event) => {\n        setParent(event.target.value);\n      }}\n      disabled={disabled}\n    >\n      <option\n        defaultValue\n        value=\"\"\n      >\n        {title}\n      </option>\n      {people ? people.map(person => (\n        <option value={person.name}>\n          {person.name}\n        </option>\n      )) : ''}\n    </select>\n  </div>\n);\n\nParentSelector.propTypes = {\n  people: arrayOf(shape()).isRequired,\n  setParent: func.isRequired,\n  disabled: bool,\n  title: string.isRequired,\n};\n\nParentSelector.defaultProps = {\n  disabled: false,\n};\n","import React, { useState } from 'react';\nimport { func } from 'prop-types';\n\nexport const SexSelector = ({ applySex }) => {\n  const [sex, setSex] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label className=\"label\">\n        {' '}\n        Sex\n        <div\n          className=\"control\"\n          value={sex}\n          onChange={(event) => {\n            applySex(event.target.value);\n            setSex(event.target.value);\n          }}\n        >\n          <label className=\"radio\">\n            <input\n              value=\"m\"\n              type=\"radio\"\n              name=\"answer\"\n              required\n            />\n            male\n          </label>\n          <label className=\"radio\">\n            <input\n              value=\"f\"\n              type=\"radio\"\n              name=\"answer\"\n              required\n            />\n            female\n          </label>\n        </div>\n      </label>\n    </div>\n  );\n};\n\nSexSelector.propTypes = {\n  applySex: func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const DateInput = ({\n  applyDate,\n  placeholder,\n  label,\n  disabled,\n  err,\n  errText,\n  min,\n}) => {\n  const [date, setDate] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label className=\"label\">{label}</label>\n      <div className=\"control\">\n        <input\n          min={min}\n          max=\"2021\"\n          disabled={disabled}\n          value={date}\n          onChange={(event) => {\n            setDate(event.target.value);\n            applyDate(+event.target.value);\n          }}\n          className={`input ${err ? 'is-danger' : ''}`}\n          type=\"number\"\n          placeholder={placeholder}\n          required\n        />\n        <p className=\"help is-danger\">{err ? errText : ''}</p>\n      </div>\n    </div>\n  );\n};\n\nDateInput.propTypes = {\n  applyDate: PropTypes.func.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  err: PropTypes.bool,\n  errText: PropTypes.string,\n  min: PropTypes.number,\n};\n\nDateInput.defaultProps = {\n  disabled: false,\n  min: 1400,\n  errText: '',\n  err: false,\n};\n","import React, { useState } from 'react';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { NameInput } from '../NameInput';\nimport { ParentSelector } from '../ParentSelector';\nimport { SexSelector } from '../SexSelector';\nimport { DateInput } from '../DateInput';\n\nexport const NewPerson = ({ addPerson, people }) => {\n  const match = useRouteMatch('/people/:personSlug?/new');\n  const history = useHistory();\n  const location = useLocation();\n\n  const [personData, setPersonData] = useState({\n    name: '',\n    sex: '',\n    born: 0,\n    died: 0,\n    fatherName: '',\n    motherName: '',\n    mother: null,\n    father: null,\n  });\n\n  const {\n    name,\n    sex,\n    born,\n    died,\n  } = personData;\n\n  const validationErrs = {\n    deathErr: died - born >= 150,\n  };\n\n  const posibleMothers = people ? people.sort(\n    (a, b) => a.name.localeCompare(b.name),\n  ).filter(\n    person => person.sex === 'f' && person.died > born && person.born < born\n  ) : [];\n\n  const posibleFathers = people ? people.sort(\n    (a, b) => a.name.localeCompare(b.name),\n  ).filter(\n    person => person.sex === 'm' && person.died > born && person.born < born\n  ) : [];\n\n  const setPersonDataProp = prop => (value) => {\n    setPersonData({\n      ...personData, [prop]: value,\n    });\n  };\n\n  const allElemetsAreValid = (arr) => Object.values(arr).every(\n      (a) => !a,\n    )\n\n  const getPersonSlug = (personName, personBorn) => `${\n      personName.toLowerCase().split(' ').join('-')\n    }-${\n      personBorn.toString()\n    }`\n  \n  const getPeoplePathName = () => `/people${match.params.personSlug\n    ? `/${match.params.personSlug}`\n    : ''\n  }`\n\n  return (\n    <form\n      className=\"box column is-4\"\n      onSubmit={(event) => {\n        event.preventDefault();\n\n        if (allElemetsAreValid(validationErrs)) {\n          addPerson({\n            ...personData,\n            slug: getPersonSlug(name, born),\n          });\n          history.push({\n            pathname: getPeoplePathName(),\n            search: location.search,\n          });\n        }\n      }}\n    >\n      <button\n        type=\"button\"\n        className=\"delete is-pulled-right\"\n        onClick={() => {\n          history.push({\n            pathname: getPeoplePathName(),\n            search: location.search,\n          });\n        }}\n      />\n\n      <div className=\"block\">\n\n        <NameInput\n          applyName={setPersonDataProp('name')}\n          placeholder={sex === 'm' || sex === ''\n            ? 'John Smith'\n            : 'Jane Smith'\n          }\n        />\n\n        <SexSelector\n          applySex={setPersonDataProp('sex')}\n        />\n\n        <DateInput\n          placeholder=\"1964\"\n          label=\"birth date\"\n          applyDate={setPersonDataProp('born')}\n        />\n\n        <DateInput\n          placeholder=\"1994\"\n          label=\"death date\"\n          applyDate={setPersonDataProp('died')}\n          disabled={!born}\n          err={validationErrs.deathErr}\n          errText={'people can\\'t live so long'}\n          min={born}\n        />\n\n        <div className=\"block\">\n          <ParentSelector\n            people={posibleMothers}\n            setParent={value => setPersonData({\n              ...personData,\n              motherName: value,\n              mother: posibleMothers.find(person => person.name === value) || null,\n            })}\n            disabled={!born || posibleMothers.length === 0}\n            title=\"select mother\"\n          />\n        </div>\n\n        <div className=\"block\">\n          <ParentSelector\n            people={posibleFathers}\n            setParent={value => setPersonData({\n              ...personData,\n              fatherName: value,\n              father: posibleFathers.find(person => person.name === value) || null,\n            })}\n            disabled={!born || posibleFathers.length === 0}\n            title=\"select father\"\n          />\n        </div>\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"button is-success\"\n      >\n        Add person\n      </button>\n    </form>\n  );\n};\n\nNewPerson.propTypes = {\n  addPerson: PropTypes.func.isRequired,\n  people: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Route,\n  useLocation,\n  Link,\n  Switch,\n} from 'react-router-dom';\nimport { shape } from 'prop-types';\nimport { getPeople } from '../api';\nimport { PeopleTable } from '../PeopleTable';\nimport { PersonSearchBar } from '../PersonSearchBar';\nimport { NewPerson } from '../NewPerson';\n\nexport const PeoplePage = ({ match }) => {\n  const [people, setPeople] = useState([]);\n  const [visiblePeople, setVisPeople] = useState(people);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const appliedQuery = searchParams.get('query') || '';\n  const sortBy = searchParams.get('sortBy');\n  const order = searchParams.get('sortOrder') === 'asc' ? 1 : -1;\n\n  const addPerson = (person) => {\n    setPeople([person, ...people]);\n  };\n\n  const getSortCallback = useCallback(() => {\n    if(sortBy === 'name' || sortBy === 'sex') {\n      return (a, b) => order * a[sortBy].localeCompare(b[sortBy])\n    }\n    \n    if (sortBy === 'born' || sortBy === 'died') {\n      return (a, b) => order * (+a[sortBy] - +b[sortBy]);\n    }\n\n    return () => 0\n  }, [order, sortBy])\n\n\n  useEffect(() => setVisPeople([...people].sort(\n    getSortCallback()\n  ).filter((person) => {\n    const lowerQuery = appliedQuery.toLowerCase();\n\n    return (\n      person.name.toLowerCase().includes(lowerQuery)\n        || `${person.motherName}`.toLowerCase().includes(lowerQuery)\n        || `${person.fatherName}`.toLowerCase().includes(lowerQuery)\n    );\n  })), [sortBy, order, people, appliedQuery, getSortCallback]);\n\n  useEffect(() => {\n    getPeople().then((response) => {\n      setPeople(response);\n      setVisPeople(response);\n    });\n  }, []);\n\n  return (\n    <>\n      <p className=\"title is-3 is-spaced\">People</p>\n\n      <Switch>\n        <Route\n          path=\"/people/:personSlug?/new\"\n        >\n          <NewPerson addPerson={addPerson} people={[...people]} />\n        </Route>\n        <Route\n          path=\"/people\"\n        >\n          <Link\n            to={{\n              pathname: `/people/${\n                match.params.personSlug\n                  ? `${match.params.personSlug}/` : ''\n              }new`,\n              search: location.search,\n            }}\n            className=\"button is-success\"\n          >\n            <i className=\"fas fa-user-plus\" />\n          </Link>\n        </Route>\n      </Switch>\n\n      <PersonSearchBar />\n\n      {!people\n        ? ''\n        : (\n          <>\n            <PeopleTable\n              people={visiblePeople}\n              selectedPersonSlug={match.params.personSlug}\n            />\n          </>\n        )\n      }\n    </>\n  );\n};\n\nPeoplePage.propTypes = {\n  match: shape().isRequired,\n};\n","export const getPeople = (query = '') => fetch(\n  'https://mate-academy.github.io/react_people-table/api/people.json',\n)\n  .then(response => response.json())\n  .then(response => response.map(({\n    name,\n    sex,\n    born,\n    died,\n    fatherName,\n    motherName,\n    slug,\n  }) => ({\n    name,\n    sex,\n    born,\n    died,\n    motherName: motherName === null ? '' : motherName,\n    fatherName: fatherName === null ? '' : fatherName,\n    mother: response.find(person => person.name === motherName) || null,\n    father: response.find(person => person.name === fatherName) || null,\n    slug,\n  })));\n","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nexport const Header = () => {\n  const { search } = useLocation();\n\n  return (\n    <header>\n      <nav className=\"navbar tabs\">\n        <ul>\n          <li>\n            <NavLink\n              to=\"/\"\n              exact\n              className=\"navbar-item is-tab\"\n              activeClassName=\"is-active\"\n            >\n              Home\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              className=\"navbar-item is-tab\"\n              activeClassName=\"is-active\"\n              to={{\n                pathname: '/people',\n                search,\n              }}\n            >\n              People\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <>\n    <p className=\"title is-3 is-spaced\">\n      Page not found :(\n    </p>\n  </>\n);\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { Header } from './components/Header';\n\nimport './App.scss';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nconst App = () => (\n  <>\n    <Router>\n      <Header />\n\n      <div className=\"App\">\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            component={HomePage}\n          />\n          <Route\n            path=\"/people/:personSlug?\"\n            component={PeoplePage}\n          />\n\n          <Redirect\n            path=\"/home\"\n            to=\"/\"\n          />\n\n          <NotFoundPage />\n        </Switch>\n      </div>\n    </Router>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}