{"version":3,"sources":["images/sort_asc.png","images/sort_desc.png","images/sort_both.png","components/HomePage/HomePage.jsx","components/PersonName/PersonName.jsx","components/PersonRow/PersonRow.jsx","components/PeopleTableHeader/PeopleTableHeader.jsx","components/PeopleTable/PeopleTable.jsx","components/PersonSearchBar/PersonSearchBar.jsx","components/NameInput/NameInput.jsx","components/ParentSelector/ParentSelector.jsx","components/SexSelector/SexSelector.jsx","components/DateInput/DateInput.jsx","components/NewPerson/NewPerson.jsx","components/PeoplePage/PeoplePage.jsx","components/api.js","components/Header/Header.jsx","components/NotFoundPage/NotFoundPage.jsx","App.jsx","index.jsx"],"names":["module","exports","HomePage","className","PersonName","person","isParent","location","useLocation","smooth","to","pathname","slug","includes","hash","search","name","PersonRow","isSelected","sex","id","born","died","mother","motherName","father","fatherName","PeopleTableHeader","newSortBy","title","history","useHistory","searchParams","URLSearchParams","sortBy","get","order","sortIcon","src","sortAsc","alt","sortDesc","onClick","set","delete","push","toString","sortBoth","PeopleTable","people","selectedPersonSlug","style","map","PersonSearchBar","useState","query","setQuery","applyQuery","useCallback","debounce","newQuery","value","onChange","event","target","type","placeholder","NameInput","applyName","setName","required","ParentSelector","setParent","disabled","err","selected","defaultProps","SexSelector","applySex","setSex","DateInput","applyDate","label","min","date","setDate","max","NewPerson","addPerson","personData","setPersonData","setPersonDataProp","prop","nameErr","birthErr","deathErr","motherErr","fatherErr","validationErrs","setErrs","onlyWomen","sort","a","b","localeCompare","filter","onlyMen","onSubmit","preventDefault","errs","Object","values","reduce","prev","cur","toLowerCase","split","join","find","PeoplePage","match","setPeople","visiblePeople","setVisPeople","appliedQuery","useEffect","lowerQuery","fetch","then","response","json","getPeople","path","params","personSlug","Header","exact","activeClassName","NotFoundPage","App","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd2d141c.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC\"","import React from 'react';\n\nexport const HomePage = () => (\n  <p className=\"title is-3 is-spaced\">Home</p>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { useLocation } from 'react-router-dom';\n\nexport const PersonName = ({ person, isParent = false }) => {\n  const location = useLocation();\n\n  return (\n    <Link\n      smooth\n      to={{\n        pathname: `/people/:${\n          person.slug\n        }${\n          location.pathname.includes('/new')\n            ? '/new' : ''\n        }`,\n        hash: isParent ? `#${person.slug}` : '',\n        search: location.search,\n      }}\n    >\n      {person.name || '-'}\n    </Link>\n  );\n};\n\nPersonName.propTypes = {\n  person: PropTypes.shape().isRequired,\n  isParent: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PersonName } from '../PersonName';\n\nexport const PersonRow = ({ person, isSelected }) => (\n  <tr\n    className={isSelected\n      ? `is-selected ${\n        person.sex === 'f'\n          ? 'has-background-danger-dark'\n          : 'has-background-link-dark'\n      }` : ''\n    }\n    id={person.slug}\n  >\n    <td>\n      <PersonName person={person} />\n    </td>\n    <td>\n      {person.sex}\n    </td>\n    <td>\n      {person.born}\n    </td>\n    <td>\n      {person.died}\n    </td>\n    <td>\n      {person.mother !== null\n        ? <PersonName person={person.mother} isParent />\n        : <p className=\"has-text-weight-bold\">{person.motherName}</p>\n      }\n    </td>\n    <td>\n      {person.father !== null\n        ? <PersonName person={person.father} isParent />\n        : <p className=\"has-text-weight-bold\">{person.fatherName}</p>\n      }\n    </td>\n  </tr>\n);\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    motherName: PropTypes.string.isRequired,\n    fatherName: PropTypes.string.isRequired,\n    mother: PropTypes.shape().isRequired,\n    father: PropTypes.shape().isRequired,\n    slug: PropTypes.string.isRequired,\n  }).isRequired,\n  isSelected: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport sortAsc from '../../images/sort_asc.png';\nimport sortDesc from '../../images/sort_desc.png';\nimport sortBoth from '../../images/sort_both.png';\n\nexport const PeopleTableHeader = ({ title }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy');\n  const order = searchParams.get('sortOrder') || 1;\n  const sortIcon = order === 'asc'\n    ? <img src={sortAsc} alt=\"\" />\n    : <img src={sortDesc} alt=\"\" />;\n\n  const selectSortBy = newSortBy => () => {\n    if (sortBy === newSortBy) {\n      if (order === 'asc') {\n        searchParams.set('sortOrder', 'desc');\n      } else {\n        searchParams.set('sortOrder', 'asc');\n      }\n    } else {\n      searchParams.set('sortOrder', 'asc');\n    }\n\n    if (newSortBy) {\n      searchParams.set('sortBy', newSortBy);\n    } else {\n      searchParams.delete('sortBy');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <th\n      className=\"is-clickable is-unselectable\"\n      onClick={selectSortBy(title)}\n    >\n      {title}\n      {' '}\n      {sortBy === title\n        ? sortIcon\n        : <img src={sortBoth} alt=\"*\" />}\n    </th>\n  );\n};\n\nPeopleTableHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PersonRow } from '../PersonRow';\nimport { PeopleTableHeader } from '../PeopleTableHeader';\n\nexport const PeopleTable = ({ people, selectedPersonSlug }) => (\n  <table\n    style={{\n      'table-row-active-color': 'red',\n      'border-collapse': 'collapse',\n    }}\n    className=\"table is-hoverable\"\n  >\n    <thead>\n      <PeopleTableHeader\n        title=\"name\"\n      />\n      <PeopleTableHeader\n        title=\"sex\"\n      />\n      <PeopleTableHeader\n        title=\"born\"\n      />\n      <PeopleTableHeader\n        title=\"died\"\n      />\n      <th>mother&#39;s name</th>\n      <th>father&#39;s name</th>\n    </thead>\n\n    <tbody>\n      {people.map(person => (\n        <PersonRow\n          person={person}\n          isSelected={selectedPersonSlug === `:${person.slug}`}\n        />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n  selectedPersonSlug: PropTypes.number.isRequired,\n};\n","import React, { useState, useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\n\nexport const PersonSearchBar = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const [query, setQuery] = useState(searchParams.get('name'));\n\n  const applyQuery = useCallback(debounce((newQuery) => {\n    if (newQuery) {\n      searchParams.set('name', newQuery);\n    } else {\n      searchParams.delete('name');\n    }\n\n    history.push({ search: searchParams.toString() });\n  }, 500));\n\n  return (\n    <div className=\"field\">\n      <div className=\"control has-icons-left\">\n        <input\n          value={query}\n          onChange={(event) => {\n            setQuery(event.target.value);\n            applyQuery(event.target.value);\n          }}\n          className=\"input\"\n          type=\"text\"\n          placeholder=\"Enter name of person you want to find\"\n        />\n        <span className=\"icon is-small is-left\">\n          <i className=\"fas fa-search\" />\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const NameInput = ({ applyName, placeholder }) => {\n  const [name, setName] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label>\n        Name\n        <div className=\"control\">\n          <input\n            value={name}\n            onChange={(event) => {\n              if (event.target.value.search(/[0-9]/) === -1) {\n                setName(event.target.value);\n                applyName(event.target.value);\n              }\n            }}\n            className=\"input\"\n            type=\"text\"\n            placeholder={placeholder}\n            required\n          />\n        </div>\n      </label>\n    </div>\n  );\n};\n\nNameInput.propTypes = {\n  applyName: PropTypes.func.isRequired,\n  placeholder: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, bool, func, shape, string } from 'prop-types';\n\nexport const ParentSelector = ({\n  people,\n  setParent,\n  disabled = false,\n  err,\n  title,\n}) => (\n  <div className=\"select\">\n    <select\n      className={err ? 'is-danger' : ''}\n      onChange={event => setParent(event.target.value)}\n      disabled={disabled}\n    >\n      <option\n        selected\n        value=\"\"\n      >\n        {title}\n      </option>\n      {people ? people.map(person => (\n        <option value={person.name}>\n          {person.name}\n        </option>\n      )) : ''}\n    </select>\n    <p className=\"help is-danger\">{err}</p>\n  </div>\n);\n\nParentSelector.propTypes = {\n  people: arrayOf(shape()).isRequired,\n  setParent: func.isRequired,\n  disabled: bool,\n  err: string.isRequired,\n  title: string.isRequired,\n};\n\nParentSelector.defaultProps = {\n  disabled: false,\n};\n","import React, { useState } from 'react';\nimport { func } from 'prop-types';\n\nexport const SexSelector = ({ applySex }) => {\n  const [sex, setSex] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label className=\"label\">\n        {' '}\n        Sex\n        <div\n          className=\"control\"\n          value={sex}\n          onChange={(event) => {\n            applySex(event.target.value);\n            setSex(event.target.value);\n          }}\n        >\n          <label className=\"radio\">\n            <input\n              value=\"m\"\n              type=\"radio\"\n              name=\"answer\"\n              required\n            />\n            male\n          </label>\n          <label className=\"radio\">\n            <input\n              value=\"f\"\n              type=\"radio\"\n              name=\"answer\"\n              required\n            />\n            female\n          </label>\n        </div>\n      </label>\n    </div>\n  );\n};\n\nSexSelector.propTypes = {\n  applySex: func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const DateInput = ({\n  applyDate,\n  placeholder,\n  label,\n  disabled = false,\n  err = '',\n  min = 1400,\n}) => {\n  const [date, setDate] = useState('');\n\n  return (\n    <div className=\"field\">\n      <label className=\"label\">{label}</label>\n      <div className=\"control\">\n        <input\n          min={min}\n          max=\"2021\"\n          disabled={disabled}\n          value={date}\n          onChange={(event) => {\n            setDate(event.target.value);\n            applyDate(+event.target.value);\n          }}\n          className={`input ${err ? 'is-danger' : ''}`}\n          type=\"number\"\n          placeholder={placeholder}\n          required\n        />\n        <p className=\"help is-danger\">{err}</p>\n      </div>\n    </div>\n  );\n};\n\nDateInput.propTypes = {\n  applyDate: PropTypes.func.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  err: PropTypes.string.isRequired,\n  min: PropTypes.number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { NameInput } from '../NameInput';\nimport { ParentSelector } from '../ParentSelector';\nimport { SexSelector } from '../SexSelector';\nimport { DateInput } from '../DateInput';\n\nexport const NewPerson = ({ addPerson, people }) => {\n  const [personData, setPersonData] = useState({\n    name: '',\n    sex: '',\n    born: 0,\n    died: 0,\n    fatherName: '',\n    motherName: '',\n    mother: {},\n    father: {},\n  });\n\n  const setPersonDataProp = prop => (value) => {\n    setPersonData({\n      ...personData, [prop]: value,\n    });\n  };\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const {\n    name,\n    sex,\n    born,\n    died,\n    mother,\n    father,\n  } = personData;\n\n  const [validationErrs, setErrs] = useState({\n    nameErr: '',\n    birthErr: '',\n    deathErr: '',\n    motherErr: '',\n    fatherErr: '',\n  });\n\n  const onlyWomen = people ? people.sort(\n    (a, b) => a.name.localeCompare(b.name),\n  ).filter(\n    person => person.sex === 'f',\n  ) : [];\n  const onlyMen = people ? people.sort(\n    (a, b) => a.name.localeCompare(b.name),\n  ).filter(\n    person => person.sex === 'm',\n  ) : [];\n\n  const checkOnErrs = () => ({\n    deathErr: died - born > 150\n      ? 'people can\\'t live so long' : '',\n    motherErr: mother.died < born || died < mother.born\n      ? 'she can\\'t be mother of this person'\n      : '',\n    fatherErr: father.died < born || died < father.born\n      ? 'he can\\'t be father of this person'\n      : '',\n  });\n\n  return (\n    <form\n      onChange={() => {\n        setErrs({});\n      }}\n      className=\"box column is-4\"\n      onSubmit={(event) => {\n        event.preventDefault();\n\n        const errs = checkOnErrs();\n\n        setErrs(errs);\n\n        if (Object.values(errs).reduce((prev, cur) => prev && !cur, true)) {\n          addPerson({\n            ...personData,\n            slug: `${\n              name.toLowerCase().split(' ').join('-')\n            }-${\n              born.toString()\n            }`,\n          });\n          history.push({\n            pathname: '/people',\n            search: location.search,\n          });\n        }\n      }}\n    >\n      <button\n        type=\"button\"\n        className=\"delete is-pulled-right\"\n        onClick={() => {\n          history.push({\n            pathname: '/people',\n            search: location.search,\n          });\n        }}\n      />\n\n      <div className=\"block\">\n\n        <NameInput\n          applyName={setPersonDataProp('name')}\n          placeholder={sex === 'm' || sex === ''\n            ? 'John Smith'\n            : 'Jane Smith'\n          }\n        />\n\n        <SexSelector\n          applySex={setPersonDataProp('sex')}\n        />\n\n        <DateInput\n          placeholder=\"1964\"\n          label=\"birth date\"\n          applyDate={setPersonDataProp('born')}\n          err={validationErrs.birthErr}\n        />\n\n        <DateInput\n          placeholder=\"1994\"\n          label=\"death date\"\n          applyDate={setPersonDataProp('died')}\n          disabled={!born}\n          err={validationErrs.deathErr}\n          min={born}\n        />\n        <ParentSelector\n          people={onlyWomen}\n          setParent={value => setPersonData({\n            ...personData,\n            motherName: value,\n            mother: onlyWomen.find(person => person.name === value) || null,\n          })}\n          err={validationErrs.motherErr}\n          disabled={!born}\n          title=\"select mother\"\n        />\n\n        <ParentSelector\n          people={onlyMen}\n          setParent={value => setPersonData({\n            ...personData,\n            fatherName: value,\n            father: onlyMen.find(person => person.name === value) || null,\n          })}\n          err={validationErrs.fatherErr}\n          disabled={!born}\n          title=\"select father\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"button is-success\"\n      >\n        Add person\n      </button>\n    </form>\n  );\n};\n\nNewPerson.propTypes = {\n  addPerson: PropTypes.func.isRequired,\n  people: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  Route,\n  useLocation,\n  Link,\n  Switch,\n} from 'react-router-dom';\nimport { shape } from 'prop-types';\nimport { getPeople } from '../api';\nimport { PeopleTable } from '../PeopleTable';\nimport { PersonSearchBar } from '../PersonSearchBar';\nimport { NewPerson } from '../NewPerson';\n\nexport const PeoplePage = ({ match }) => {\n  const [people, setPeople] = useState([]);\n  const [visiblePeople, setVisPeople] = useState(people);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const appliedQuery = searchParams.get('name') || '';\n  const sortBy = searchParams.get('sortBy');\n  const order = searchParams.get('sortOrder') === 'asc' ? 1 : -1;\n\n  const addPerson = (person) => {\n    setPeople([person, ...people]);\n  };\n\n  useEffect(() => setVisPeople([...people].sort(\n    (a, b) => {\n      if (sortBy === 'name' || sortBy === 'sex') {\n        return order * a[sortBy].localeCompare(b[sortBy]);\n      }\n\n      if (sortBy === 'born' || sortBy === 'died') {\n        return order * (+a[sortBy] - +b[sortBy]);\n      }\n\n      return 0;\n    },\n  ).filter((person) => {\n    const lowerQuery = appliedQuery.toLowerCase();\n\n    return (\n      person.name.toLowerCase().includes(lowerQuery)\n        || `${person.motherName}`.toLowerCase().includes(lowerQuery)\n        || `${person.fatherName}`.toLowerCase().includes(lowerQuery)\n    );\n  })), [sortBy, order, people, appliedQuery]);\n\n  useEffect(() => {\n    getPeople().then((response) => {\n      setPeople(response);\n      setVisPeople(response);\n    });\n  }, []);\n\n  return (\n    <>\n      <p className=\"title is-3 is-spaced\">People</p>\n\n      <Switch>\n        <Route\n          path=\"/people/:personSlug?/new\"\n        >\n          <NewPerson addPerson={addPerson} people={[...people]} />\n        </Route>\n        <Route\n          path=\"/people\"\n        >\n          <Link\n            to={{\n              pathname: `/people/${\n                match.params.personSlug\n                  ? `${match.params.personSlug}/` : ''\n              }new`,\n              search: location.search,\n            }}\n            className=\"button is-success\"\n          >\n            <i className=\"fas fa-user-plus\" />\n          </Link>\n        </Route>\n      </Switch>\n\n      <PersonSearchBar />\n\n      {!people\n        ? ''\n        : (\n          <>\n            <PeopleTable\n              people={visiblePeople}\n              selectedPersonSlug={match.params.personSlug}\n            />\n          </>\n        )\n      }\n    </>\n  );\n};\n\nPeoplePage.propTypes = {\n  match: shape().isRequired,\n};\n","export const getPeople = (query = '') => fetch(\n  'https://mate-academy.github.io/react_people-table/api/people.json',\n)\n  .then(response => response.json())\n  .then(response => response.map(({\n    name,\n    sex,\n    born,\n    died,\n    fatherName,\n    motherName,\n    slug,\n  }) => ({\n    name,\n    sex,\n    born,\n    died,\n    motherName,\n    fatherName,\n    mother: response.find(person => person.name === motherName) || null,\n    father: response.find(person => person.name === fatherName) || null,\n    slug,\n  })));\n","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nexport const Header = () => {\n  const { search } = useLocation();\n\n  return (\n    <header>\n      <nav className=\"navbar tabs\">\n        <ul>\n          <li>\n            <NavLink\n              to=\"/\"\n              exact\n              className=\"navbar-item is-tab\"\n              activeClassName=\"is-active\"\n            >\n              Home\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              className=\"navbar-item is-tab\"\n              activeClassName=\"is-active\"\n              to={{\n                pathname: '/people',\n                search,\n              }}\n            >\n              People\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <>\n    <p className=\"title is-3 is-spaced\">\n      Page not found :(\n    </p>\n  </>\n);\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { Header } from './components/Header';\n\nimport './App.scss';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nconst App = () => (\n  <>\n    <Router>\n      <Header />\n\n      <div className=\"App\">\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            component={HomePage}\n          />\n          <Route\n            path=\"/people/:personSlug?\"\n            component={PeoplePage}\n          />\n\n          <Redirect\n            path=\"/home\"\n            to=\"/\"\n          />\n\n          <NotFoundPage />\n        </Switch>\n      </div>\n    </Router>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}